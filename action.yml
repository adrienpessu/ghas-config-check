name: 'Alert Manager'
description: 'Create an issue when a new alert is created'
inputs:
  token:
    description: 'Token to use for authentication'
    required: true
    default: ''
  issue:
    description: 'Create an issue when a new alert is created'
    required: false
    default: 'false'
  debug:
    description: 'Debug mode'
    required: false
    default: 'false'
runs:
  using: composite
  steps:
    - uses: actions/setup-go@v2
      with:
        go-version: '1.20.4'

    - run: DEBUG=${{ inputs.debug }} CREATE_ISSUE=${{ inputs.issue }} GITHUB_TOKEN=${{ inputs.token }} go run ${{ github.action_path }}/main.go
      shell: bash
branding:
  icon: 'lock'
  color: 'yellow'